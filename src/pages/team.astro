---
import Layout from '../layouts/Layout.astro';
import Title from '../components/ui/Title.astro';

import "../styles/tailwind.scss";

const teamData = {
  leadership: [
    {
      name: "Ashuthosh Shivaraj",
      role: "Team Manager",
      department: "Mechanical Engineering",
      year: "3rd Year",
      image: "/images/team/captain.jpg",
      bio: "Leading the team with passion for motorsports"
    },
    {
      name: "Adil Anwar Sadath",
      role: "Vice Captain",
      department: "Mechanical Engineering", 
      year: "3rd Year",
      image: "/images/team/vice-captain.jpg",
      bio: "Overseeing technical development and ensuring engineering excellence across all subsystems."
    }
  ],
  subsystems: [
    {
      name: "Powertrain",
      lead: "Soumyajit Maji",
      members: [
        { name: "Abhijit Kashyap", role: "Powertrain - Electrical", year: "3rd Year", image: "/images/1.jpg" },
        { name: "Abhijith Raj", role: "", year: "3rd Year", image: "/images/2.jpg" },
        { name: "Soumyajit Maji", role: "Handling everything", year: "3rd Year", image: "/images/3.jpg" }
      ]
    },
    {
      name: "Chassis & Suspension",
      lead: "Vishnu Anand",
      members: [
        { name: "Kaivalya", role: "Engineer", year: "3rd Year", image: "/images/default.jpg" },
        { name: "Vishnu Anand", role: "Chassis- Chassis Design and Manufacturing", year: "3rd Year", image: "/images/default.jpg" },
        { name: "Ishwarya", role: "Chassis-design", year: "3rd Year", image: "/images/default.jpg" },
        { name: "Arnav Govindu", role: "Chassis", year: "3rd Year", image: "/images/default.jpg" }
      ]
    },
    {
      name: "Vehicle Dynamics",
      lead: "Ashuthosh Shivaraj",
      members: [
        { name: "Ashuthosh Shivaraj", role: "Team Manager, VD Brake pedal assembly", year: "3rd Year", image: "/images/default.jpg" },
        { name: "Aditya Gupta", role: "Vehicle Dynamics - Member", year: "3rd Year", image: "/images/default.jpg" }
      ]
    }
  ],
  stats: [
    { number: "25+", label: "Active Members" },
    { number: "8", label: "Departments" },
    { number: "3", label: "Subsystems" },
    { number: "3", label: "Years Experience" }
  ]
};
---

<Layout>
<section class="team-section" data-animate-team>
  <div class="team-content">
    <!-- Hero Section -->
    <div class="team-hero" data-animate-hero>
      <Title text="OUR TEAM" class="team-main-title" />
      <h1 class="hero-title">The Minds Behind the Machine</h1>
      <p class="hero-description">
        Meet the passionate engineers, designers, and innovators who bring our racing dreams to life. 
        Each member contributes their unique expertise to create something extraordinary.
      </p>
    </div>

    <!-- Team Photo Section -->
    <div class="team-photo-section" data-animate-photo>
      <div class="team-photo-container">
        <img 
          src="/images/team.jpg" 
          alt="Aeolus Racing Team Photo" 
          class="team-photo"
          loading="lazy"
          decoding="async"
        />
        <div class="photo-overlay">
          <div class="photo-caption">
            <h3 class="photo-title">Aeolus Racing Team 2024</h3>
            <p class="photo-subtitle">United by passion, driven by innovation</p>
          </div>
        </div>
      </div>
    </div>
    <!-- Leadership Section -->
    <div class="leadership-section" data-animate-leadership>
      <h2 class="section-title">Leadership Team</h2>
      <div class="leadership-grid">
        {teamData.leadership.map((leader, index) => (
          <div class="leader-card" data-animate-leader style={`--delay: ${index * 0.2}`}>
            <div class="leader-image">
              <img src={leader.image} alt={leader.name} loading="lazy" />
              <div class="image-overlay">
                <div class="leader-role">{leader.role}</div>
              </div>
            </div>
            <div class="leader-info">
              <h3 class="leader-name">{leader.name}</h3>
              <p class="leader-department">{leader.department}</p>
              <p class="leader-year">{leader.year}</p>
              <p class="leader-bio">{leader.bio}</p>
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- Subsystems Section -->
    <div class="subsystems-section" data-animate-subsystems>
      <h2 class="section-title">Technical Subsystems</h2>
      <div class="subsystems-grid">
        {teamData.subsystems.map((subsystem, index) => (
          <div class="subsystem-card" data-animate-subsystem style={`--delay: ${index * 0.3}`}>
            <div class="subsystem-header">
              <h3 class="subsystem-name">{subsystem.name}</h3>
              <p class="subsystem-lead">Led by {subsystem.lead}</p>
            </div>
            <div class="members-grid">
              {subsystem.members.map((member, memberIndex) => (
                <div class="member-card" data-animate-member style={`--delay: ${memberIndex * 0.1}`}>
                  <div class="member-image">
                    <img src={member.image} alt={member.name} loading="lazy" />
                    <div class="member-overlay">
                      <div class="member-year">{member.year}</div>
                    </div>
                  </div>
                  <div class="member-info">
                    <h4 class="member-name">{member.name}</h4>
                    <p class="member-role">{member.role}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- Join Team CTA -->
    <div style="display: none" class="join-section invisible" data-animate-join>
      <div class="join-content">
        <h2 class="join-title">Ready to Race With Us?</h2>
        <p class="join-description">
          We're always looking for passionate individuals who want to push the boundaries 
          of automotive engineering. Join us in building the future of racing.
        </p>
        <div class="join-requirements">
          <div class="requirement-item">
            <h4>What We Look For</h4>
            <ul>
              <li>Passion for motorsports and engineering</li>
              <li>Collaborative mindset and team spirit</li>
              <li>Willingness to learn and innovate</li>
              <li>Commitment to excellence</li>
            </ul>
          </div>
          <div class="requirement-item">
            <h4>Open Positions</h4>
            <ul>
              <li>Manufacturing Engineers</li>
              <li>CAD Designers</li>
              <li>Electronics Engineers</li>
              <li>Business & Marketing</li>
            </ul>
          </div>
        </div>
        <button class="join-button">Get In Touch</button>
      </div>
    </div>
  </div>
</section>

<style lang="scss">
  @use "../pages/_team.scss";
</style>
</Layout>


<script>
  document.addEventListener('DOMContentLoaded', function() {
    if (typeof IntersectionObserver !== 'undefined') {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const element = entry.target;
            
            if (element.hasAttribute('data-animate-team')) {
              element.classList.add('animate-in');
              
              // Animate sections with staggered delays
              const sections = [
                '[data-animate-hero]',
                '[data-animate-stats]',
                '[data-animate-stat]',
                '[data-animate-leadership]',
                '[data-animate-leader]',
                '[data-animate-subsystems]',
                '[data-animate-subsystem]',
                '[data-animate-member]',
                '[data-animate-join]'
              ];
              
              sections.forEach((selector) => {
                const elements = element.querySelectorAll(selector);
                elements.forEach((el) => {
                  setTimeout(() => {
                    el.classList.add('animate-in');
                  }, 100);
                });
              });
              
              observer.unobserve(element);
            }
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      });

      const section = document.querySelector('[data-animate-team]');
      if (section) {
        observer.observe(section);
      }
    }
  });
</script>