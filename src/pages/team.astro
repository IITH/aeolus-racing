---
import Layout from '../layouts/Layout.astro';
import Title from '../components/ui/Title.astro';

import "../styles/tailwind.scss";

const teamData = {
  leadership: [
    {
      name: "Arjun Sharma",
      role: "Team Captain",
      department: "Mechanical Engineering",
      year: "4th Year",
      image: "/images/team/captain.jpg",
      bio: "Leading the team with passion for motorsports and innovation in automotive engineering."
    },
    {
      name: "Priya Patel",
      role: "Technical Lead",
      department: "Aerospace Engineering", 
      year: "4th Year",
      image: "/images/team/tech-lead.jpg",
      bio: "Overseeing technical development and ensuring engineering excellence across all subsystems."
    },
    {
      name: "Rahul Kumar",
      role: "Project Manager",
      department: "Industrial Engineering",
      year: "3rd Year", 
      image: "/images/team/pm.jpg",
      bio: "Coordinating project timelines and managing team operations for optimal performance."
    }
  ],
  subsystems: [
    {
      name: "Powertrain",
      lead: "Vikram Singh",
      members: [
        { name: "Vikram Singh", role: "Subsystem Lead", year: "4th Year", image: "/images/1.jpg" },
        { name: "Ananya Reddy", role: "Engine Specialist", year: "3rd Year", image: "/images/2.jpg" },
        { name: "Karthik Menon", role: "Transmission Engineer", year: "2nd Year", image: "/images/3.jpg" }
      ]
    },
    {
      name: "Chassis & Suspension",
      lead: "Sneha Gupta",
      members: [
        { name: "Sneha Gupta", role: "Subsystem Lead", year: "4th Year", image: "/images/4.jpg" },
        { name: "Rohan Joshi", role: "Chassis Designer", year: "3rd Year", image: "/images/5.jpg" },
        { name: "Meera Shah", role: "Suspension Engineer", year: "3rd Year", image: "/images/6.jpg" }
      ]
    },
    {
      name: "Electronics & Controls",
      lead: "Aditya Verma",
      members: [
        { name: "Aditya Verma", role: "Subsystem Lead", year: "4th Year", image: "/images/1.jpg" },
        { name: "Kavya Nair", role: "Control Systems", year: "3rd Year", image: "/images/2.jpg" },
        { name: "Harsh Agarwal", role: "Data Acquisition", year: "2nd Year", image: "/images/3.jpg" }
      ]
    },
    {
      name: "Aerodynamics",
      lead: "Ishaan Kapoor",
      members: [
        { name: "Ishaan Kapoor", role: "Subsystem Lead", year: "3rd Year", image: "/images/4.jpg" },
        { name: "Riya Bansal", role: "CFD Analyst", year: "3rd Year", image: "/images/5.jpg" },
        { name: "Aryan Malhotra", role: "Wind Tunnel Specialist", year: "2nd Year", image: "/images/6.jpg" }
      ]
    }
  ],
  stats: [
    { number: "25+", label: "Active Members" },
    { number: "8", label: "Departments" },
    { number: "4", label: "Subsystems" },
    { number: "3", label: "Years Experience" }
  ]
};
---

<Layout>
<section class="team-section" data-animate-team>
  <div class="team-content">
    <!-- Hero Section -->
    <div class="team-hero" data-animate-hero>
      <Title text="OUR TEAM" class="team-main-title" />
      <h1 class="hero-title">The Minds Behind the Machine</h1>
      <p class="hero-description">
        Meet the passionate engineers, designers, and innovators who bring our racing dreams to life. 
        Each member contributes their unique expertise to create something extraordinary.
      </p>
    </div>


    <!-- Leadership Section -->
    <div class="leadership-section" data-animate-leadership>
      <h2 class="section-title">Leadership Team</h2>
      <div class="leadership-grid">
        {teamData.leadership.map((leader, index) => (
          <div class="leader-card" data-animate-leader style={`--delay: ${index * 0.2}`}>
            <div class="leader-image">
              <img src={leader.image} alt={leader.name} loading="lazy" />
              <div class="image-overlay">
                <div class="leader-role">{leader.role}</div>
              </div>
            </div>
            <div class="leader-info">
              <h3 class="leader-name">{leader.name}</h3>
              <p class="leader-department">{leader.department}</p>
              <p class="leader-year">{leader.year}</p>
              <p class="leader-bio">{leader.bio}</p>
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- Subsystems Section -->
    <div class="subsystems-section" data-animate-subsystems>
      <h2 class="section-title">Technical Subsystems</h2>
      <div class="subsystems-grid">
        {teamData.subsystems.map((subsystem, index) => (
          <div class="subsystem-card" data-animate-subsystem style={`--delay: ${index * 0.3}`}>
            <div class="subsystem-header">
              <h3 class="subsystem-name">{subsystem.name}</h3>
              <p class="subsystem-lead">Led by {subsystem.lead}</p>
            </div>
            <div class="members-grid">
              {subsystem.members.map((member, memberIndex) => (
                <div class="member-card" data-animate-member style={`--delay: ${memberIndex * 0.1}`}>
                  <div class="member-image">
                    <img src={member.image} alt={member.name} loading="lazy" />
                    <div class="member-overlay">
                      <div class="member-year">{member.year}</div>
                    </div>
                  </div>
                  <div class="member-info">
                    <h4 class="member-name">{member.name}</h4>
                    <p class="member-role">{member.role}</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- Join Team CTA -->
    <div style="display: none" class="join-section invisible" data-animate-join>
      <div class="join-content">
        <h2 class="join-title">Ready to Race With Us?</h2>
        <p class="join-description">
          We're always looking for passionate individuals who want to push the boundaries 
          of automotive engineering. Join us in building the future of racing.
        </p>
        <div class="join-requirements">
          <div class="requirement-item">
            <h4>What We Look For</h4>
            <ul>
              <li>Passion for motorsports and engineering</li>
              <li>Collaborative mindset and team spirit</li>
              <li>Willingness to learn and innovate</li>
              <li>Commitment to excellence</li>
            </ul>
          </div>
          <div class="requirement-item">
            <h4>Open Positions</h4>
            <ul>
              <li>Manufacturing Engineers</li>
              <li>CAD Designers</li>
              <li>Electronics Engineers</li>
              <li>Business & Marketing</li>
            </ul>
          </div>
        </div>
        <button class="join-button">Get In Touch</button>
      </div>
    </div>
  </div>
</section>

<style lang="scss">
  @use "../pages/_team.scss";
</style>
</Layout>


<script>
  document.addEventListener('DOMContentLoaded', function() {
    if (typeof IntersectionObserver !== 'undefined') {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const element = entry.target;
            
            if (element.hasAttribute('data-animate-team')) {
              element.classList.add('animate-in');
              
              // Animate sections with staggered delays
              const sections = [
                '[data-animate-hero]',
                '[data-animate-stats]',
                '[data-animate-stat]',
                '[data-animate-leadership]',
                '[data-animate-leader]',
                '[data-animate-subsystems]',
                '[data-animate-subsystem]',
                '[data-animate-member]',
                '[data-animate-join]'
              ];
              
              sections.forEach((selector) => {
                const elements = element.querySelectorAll(selector);
                elements.forEach((el) => {
                  setTimeout(() => {
                    el.classList.add('animate-in');
                  }, 100);
                });
              });
              
              observer.unobserve(element);
            }
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      });

      const section = document.querySelector('[data-animate-team]');
      if (section) {
        observer.observe(section);
      }
    }
  });
</script>